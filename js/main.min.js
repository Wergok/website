function OpenOrClosePopup(e){e.classList.toggle("popup--active")}function scroll(e){const t=e.dataset.path;offsetPosition=getPositionToScroll(t),window.scrollBy({top:offsetPosition,behavior:"smooth"})}function getPositionToScroll(e){const t=document.querySelector(e),o=document.querySelector(".header").offsetHeight,n=t.getBoundingClientRect().top,r=n-o;return r}function changeStatusBurger(e){e.classList.toggle("burger--active"),document.body.classList.toggle("body--lock")}function counter(e,t){e.forEach(e=>{if(e.isIntersecting){let o=0;const n=e.target;t.unobserve(n);const r=Number(n.dataset.counter),s=Number(n.dataset.counterinterval),i=setInterval(()=>{o>=r?(n.textContent=r,clearInterval(i)):(o+=s,n.textContent=o)},5)}})}function changeClassActive(e){e.classList.contains("animation-active")||(e.classList.remove("animation-disable"),e.classList.add("animation-active"))}function animation(e){const t=document.querySelectorAll(e),o={threshold:.5};let n=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(changeClassActive(e.target),t.unobserve(e.target))})},o);t.forEach(e=>{n.observe(e)})}document.addEventListener("DOMContentLoaded",function(){async function e(e){e.preventDefault();const n=t(o),r=new FormData(o);if(n){document.querySelector(".wrapper").classList.add("loading-body");let e=await fetch("php/index.php",{method:"POST",body:r});if(e.ok){let t=await e.json();alert(t.message),o.reset(),document.querySelector(".wrapper").classList.remove("loading-body")}else alert("Ошибка"),o.reset(),document.querySelector(".wrapper").classList.remove("loading-body")}}function t(e){const t=e.querySelectorAll(".popup-body__input");for(const e of t)if(e.classList.contains("email"))return console.log(!e.validity.patternMismatch),console.log(!e.value.valueMissin),!e.validity.patternMismatch&&!e.validity.valueMissin}const o=document.querySelector(".popup-body__form");o.addEventListener("submit",e)});const partnersSwiper=new Swiper(".partners__swiper",{pagination:{el:".partners__swiper-pagination",type:"bullets"},autoplay:{delay:3e3},keyboard:{enabled:!0},loop:!0,slidesPerView:1,slidesPerGroup:1,disableOnInteraction:!1,breakpoints:{660:{slidesPerView:2,slidesPerGroup:2},1248:{slidesPerView:4,slidesPerGroup:4}}}),popupButtons=document.querySelectorAll(".popup-button");popupButtons.length>0&&popupButtons.forEach(function(e){let t=e.dataset.link;const o=document.getElementById(t);e.addEventListener("click",()=>OpenOrClosePopup(o))});const burgerOpenCloseButtons=document.querySelectorAll(".burger-button"),burger=document.querySelector(".burger"),menuButtons=document.querySelectorAll(".menu__button"),burgerSrcollButtons=document.querySelectorAll(".burger-body__item"),aboutUsNumber=document.querySelectorAll(".about-us__list-number");if(aboutUsNumber){const e={threshold:.5},t=new IntersectionObserver((e,t)=>{counter(e,t)},e);aboutUsNumber.forEach(e=>{t.observe(e)})}burgerOpenCloseButtons&&burgerOpenCloseButtons.forEach(e=>{e.addEventListener("click",()=>changeStatusBurger(burger))}),menuButtons&&menuButtons.forEach(function(e){e.addEventListener("click",()=>scroll(e))}),burgerSrcollButtons&&burgerSrcollButtons.forEach(e=>{e.dataset.path,e.addEventListener("click",()=>setTimeout(function(){scroll(e)},800)),e.addEventListener("click",()=>changeStatusBurger(burger))}),animation(".about-us__title"),animation(".merit__title"),animation(".merit__subtitle"),animation(".services__title"),animation(".partners__title"),animation(".merit__list-text"),animation(".services__subtitle"),animation(".services__image"),animation(".services__text-box"),animation(".about-us__list-item"),animation(".how-work__title"),animation(".how-work__list-item");